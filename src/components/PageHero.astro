---
interface Props {
  title: string;
  subtitle?: string;
  image?: string;
  imageAlt?: string;
  /** 'dark' = image with light text overlay, 'light' = clean text on white bg */
  variant?: 'dark' | 'light';
  /** Full viewport height hero */
  fullHeight?: boolean;
}

const {
  title,
  subtitle,
  image,
  imageAlt = '',
  variant = 'dark',
  fullHeight = false,
} = Astro.props;
---

{variant === 'dark' && image ? (
  <section class:list={["relative flex items-end overflow-hidden", fullHeight ? "h-screen" : "h-[70vh] min-h-[500px]"]}>
    <div class="absolute inset-0">
      <img
        src={image}
        alt={imageAlt}
        class="absolute inset-0 w-full h-full object-cover"
        style="animation: heroZoom 20s ease-in-out infinite alternate;"
      />
      <div class="absolute inset-0 bg-gradient-to-t from-charcoal-deep/80 via-charcoal-deep/30 to-charcoal-deep/10"></div>
      <div class="absolute inset-0 bg-gradient-to-r from-charcoal-deep/40 via-transparent to-transparent"></div>
    </div>

    <div class="relative max-w-[1400px] mx-auto px-5 md:px-8 pb-16 md:pb-24 w-full">
      <h1 class="reveal font-display text-[clamp(2.5rem,8vw,7rem)] leading-[0.95] tracking-tight text-white" set:html={title} />
      {subtitle && (
        <p class="reveal reveal-d1 mt-6 text-lg md:text-xl text-white/70 max-w-2xl">{subtitle}</p>
      )}
      <slot />
    </div>

    <div class="absolute bottom-6 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 reveal reveal-d5">
      <div class="w-px h-8 bg-gradient-to-b from-transparent to-white/30 animate-pulse"></div>
    </div>
  </section>
) : (
  <section class="pt-32 md:pt-44 pb-16 md:pb-24 bg-white">
    <div class="max-w-[1400px] mx-auto px-5 md:px-8">
      <p class="reveal text-xs font-semibold uppercase tracking-[0.3em] text-ember mb-6">Wildfire Leadership</p>
      <h1 class="reveal reveal-d1 font-display text-[clamp(2.5rem,6vw,5.5rem)] leading-[1] tracking-tight text-charcoal max-w-4xl" set:html={title} />
      {subtitle && (
        <p class="reveal reveal-d2 mt-8 text-lg md:text-xl text-stone max-w-2xl leading-relaxed">{subtitle}</p>
      )}
      <slot />
    </div>
  </section>
)}
