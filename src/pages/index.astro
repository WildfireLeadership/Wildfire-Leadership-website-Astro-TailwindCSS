---
import BaseLayout from '../layouts/BaseLayout.astro';
import StatCounter from '../components/StatCounter.astro';
import TestimonialCard from '../components/TestimonialCard.astro';
import CallToAction from '../components/CallToAction.astro';
---

<BaseLayout title="Uncover Purpose. Unleash Potential">

  <!-- ===== HERO — Cinematic full-bleed (Porsche-style immersive) ===== -->
  <section class="relative h-screen flex items-end overflow-hidden">
    <div class="absolute inset-0">
      <img
        src="/images/hero-main.jpg"
        alt="Wildfire Leadership"
        class="absolute inset-0 w-full h-full object-cover"
        style="animation: heroZoom 20s ease-in-out infinite alternate;"
      />
      <div class="absolute inset-0 bg-gradient-to-t from-charcoal-deep/90 via-charcoal-deep/40 to-charcoal-deep/5"></div>
      <div class="absolute inset-0 bg-gradient-to-r from-charcoal-deep/50 via-transparent to-transparent"></div>
    </div>

    <div class="relative max-w-[1400px] mx-auto px-5 md:px-8 pb-20 md:pb-28 w-full">
      <h1 class="font-display text-[clamp(3rem,10vw,8.5rem)] leading-[0.9] tracking-tight text-white">
        <span class="block reveal">Uncover</span>
        <span class="block reveal reveal-d1"><em class="ember-gradient">Purpose.</em></span>
        <span class="block reveal reveal-d2">Unleash</span>
        <span class="block reveal reveal-d3"><em class="ember-gradient">Potential.</em></span>
      </h1>

      <div class="reveal reveal-d4 mt-10 flex flex-col sm:flex-row items-start sm:items-center gap-4">
        <a href="/contact" class="group inline-flex items-center gap-3 px-7 py-3.5 rounded-full text-sm font-medium tracking-wide text-charcoal bg-white hover:shadow-xl hover:shadow-white/15 transition-all duration-400 hover:scale-[1.02]">
          Start your journey
          <svg class="w-4 h-4 transition-transform duration-400 group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17 8l4 4m0 0l-4 4m4-4H3" />
          </svg>
        </a>
        <a href="/about" class="group inline-flex items-center gap-2 text-sm font-medium text-white/70 hover:text-white transition-colors duration-300">
          Learn our story
          <svg class="w-3.5 h-3.5 transition-transform duration-300 group-hover:translate-x-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17 8l4 4m0 0l-4 4m4-4H3" />
          </svg>
        </a>
      </div>
    </div>

    <div class="absolute bottom-6 left-1/2 -translate-x-1/2 flex flex-col items-center reveal reveal-d5">
      <div class="w-px h-8 bg-gradient-to-b from-transparent to-white/30 animate-pulse"></div>
    </div>
  </section>

  <!-- ===== STATEMENT — Palantir-style big text on white ===== -->
  <section class="relative py-28 md:py-40 bg-white">
    <div class="max-w-[1400px] mx-auto px-5 md:px-8">
      <div class="max-w-5xl">
        <p class="reveal text-[11px] uppercase tracking-[0.3em] text-ember mb-8">What We Do</p>
        <p class="reveal reveal-d1 font-display text-3xl md:text-4xl lg:text-[3.5rem] text-charcoal leading-[1.2]">
          We help individuals, families, and organizations discover their mission through practical, visual tools that have transformed over <em class="text-ember">30,000</em> lives.
        </p>
      </div>
    </div>
  </section>

  <!-- ===== PROGRAMS — Porsche-style showcase cards ===== -->
  <section class="relative py-24 md:py-32 bg-warm-white">
    <div class="max-w-[1400px] mx-auto px-5 md:px-8">
      <div class="flex flex-col md:flex-row md:items-end md:justify-between gap-6 mb-16">
        <div>
          <p class="reveal text-[11px] uppercase tracking-[0.3em] text-ember mb-4">Our Programs</p>
          <h2 class="reveal reveal-d1 font-display text-4xl md:text-5xl text-charcoal leading-[1.05]">Tools that <em>transform.</em></h2>
        </div>
        <p class="reveal reveal-d2 text-sm text-stone max-w-md">Four proven frameworks designed to help you uncover purpose, build resilience, and ignite lasting change.</p>
      </div>

      <div class="grid md:grid-cols-2 gap-4 md:gap-5">
        <!-- Mission Portrait -->
        <a href="/mission-portrait" class="group reveal block rounded-2xl overflow-hidden bg-white border border-sand/50 card-glow lift">
          <div class="aspect-[16/9] overflow-hidden relative">
            <img src="/images/mission-portrait-graphic.png" alt="Mission Portrait" class="w-full h-full object-cover img-hover" />
            <div class="absolute inset-0 bg-gradient-to-t from-charcoal-deep/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
          </div>
          <div class="relative z-10 p-8 md:p-10">
            <div class="flex items-center justify-between mb-4">
              <span class="text-[11px] font-mono text-ember tracking-wider">01</span>
              <svg class="w-5 h-5 text-charcoal/20 group-hover:text-ember group-hover:translate-x-1 transition-all duration-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17 8l4 4m0 0l-4 4m4-4H3" />
              </svg>
            </div>
            <h3 class="font-display text-2xl md:text-3xl text-charcoal mb-3">Mission Portrait</h3>
            <p class="text-sm text-stone leading-relaxed">A customized visual daily reminder of your personal mission and purpose. Your map to your true calling.</p>
          </div>
        </a>

        <!-- 7 Igniters -->
        <a href="/7-igniters" class="group reveal reveal-d1 block rounded-2xl overflow-hidden bg-white border border-sand/50 card-glow lift">
          <div class="aspect-[16/9] overflow-hidden relative">
            <img src="/images/7-igniters-graphic.jpg" alt="The 7 Igniters" class="w-full h-full object-cover img-hover" />
            <div class="absolute inset-0 bg-gradient-to-t from-charcoal-deep/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
          </div>
          <div class="relative z-10 p-8 md:p-10">
            <div class="flex items-center justify-between mb-4">
              <span class="text-[11px] font-mono text-ember tracking-wider">02</span>
              <svg class="w-5 h-5 text-charcoal/20 group-hover:text-ember group-hover:translate-x-1 transition-all duration-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17 8l4 4m0 0l-4 4m4-4H3" />
              </svg>
            </div>
            <h3 class="font-display text-2xl md:text-3xl text-charcoal mb-3">The 7 Igniters</h3>
            <p class="text-sm text-stone leading-relaxed">A proven seven-step framework from purpose to potential. Each igniter builds on the last.</p>
          </div>
        </a>

        <!-- INVEST Marriage -->
        <a href="/invest-marriage" class="group reveal block rounded-2xl overflow-hidden bg-white border border-sand/50 card-glow lift">
          <div class="aspect-[16/9] overflow-hidden bg-cream flex items-center justify-center relative">
            <img src="/images/invest-marriage-logo.png" alt="INVEST Marriage" class="w-2/3 h-2/3 object-contain img-hover" />
          </div>
          <div class="relative z-10 p-8 md:p-10">
            <div class="flex items-center justify-between mb-4">
              <span class="text-[11px] font-mono text-ember tracking-wider">03</span>
              <svg class="w-5 h-5 text-charcoal/20 group-hover:text-ember group-hover:translate-x-1 transition-all duration-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17 8l4 4m0 0l-4 4m4-4H3" />
              </svg>
            </div>
            <h3 class="font-display text-2xl md:text-3xl text-charcoal mb-3">INVEST Marriage</h3>
            <p class="text-sm text-stone leading-relaxed">An 8-week curriculum for couples. Biblical wisdom meets practical tools for a thriving marriage.</p>
          </div>
        </a>

        <!-- Working Genius -->
        <a href="/contact" class="group reveal reveal-d1 block rounded-2xl overflow-hidden bg-white border border-sand/50 card-glow lift">
          <div class="aspect-[16/9] overflow-hidden relative">
            <img src="/images/business-hero.jpg" alt="Working Genius" class="w-full h-full object-cover img-hover" />
            <div class="absolute inset-0 bg-gradient-to-t from-charcoal-deep/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
          </div>
          <div class="relative z-10 p-8 md:p-10">
            <div class="flex items-center justify-between mb-4">
              <span class="text-[11px] font-mono text-ember tracking-wider">04</span>
              <svg class="w-5 h-5 text-charcoal/20 group-hover:text-ember group-hover:translate-x-1 transition-all duration-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17 8l4 4m0 0l-4 4m4-4H3" />
              </svg>
            </div>
            <h3 class="font-display text-2xl md:text-3xl text-charcoal mb-3">Working Genius</h3>
            <p class="text-sm text-stone leading-relaxed">Identify your natural strengths and help your team operate in their zone of genius.</p>
          </div>
        </a>
      </div>
    </div>
  </section>

  <!-- ===== STATS ===== -->
  <StatCounter
    bg="white"
    stats={[
      { value: 30000, suffix: "+", label: "Mission Portraits\ncompleted" },
      { value: 87, suffix: "%", label: "Report greater clarity\nand confidence" },
      { value: 92, suffix: "%", label: "Developed a personalized\nroadmap for growth" },
      { value: 70, suffix: "+", label: "Certified facilitators\nin our network" },
    ]}
  />

  <!-- ===== FULL-BLEED PHOTO BREAK — Porsche-style immersive image ===== -->
  <section class="relative h-[50vh] md:h-[65vh] overflow-hidden">
    <img
      src="/images/hero-cta.jpg"
      alt="Wildfire Leadership community"
      class="absolute inset-0 w-full h-full object-cover parallax-img"
      style="will-change: transform;"
    />
    <div class="absolute inset-0 bg-charcoal-deep/30"></div>
    <div class="absolute inset-0 flex items-center justify-center">
      <div class="text-center px-5">
        <p class="reveal font-display text-3xl md:text-5xl lg:text-6xl text-white leading-[1.05]">
          Every fire starts with a <em class="ember-gradient">single spark.</em>
        </p>
      </div>
    </div>
  </section>

  <!-- ===== PORTRAIT SHOWCASE — Gallery-style ===== -->
  <section class="relative py-24 md:py-32 bg-white">
    <div class="max-w-[1400px] mx-auto px-5 md:px-8">
      <div class="flex flex-col md:flex-row md:items-end md:justify-between gap-6 mb-14">
        <div>
          <p class="reveal text-[11px] uppercase tracking-[0.3em] text-ember mb-4">Real Stories</p>
          <h2 class="reveal reveal-d1 font-display text-4xl md:text-5xl text-charcoal leading-[1.05]">
            Over 30,000 portraits.<br/><em>Each one unique.</em>
          </h2>
        </div>
        <div class="reveal reveal-d2">
          <a href="/mission-portrait" class="group inline-flex items-center gap-3 text-sm font-medium tracking-wide text-charcoal link-underline">
            Explore Mission Portraits
            <svg class="w-4 h-4 transition-transform duration-400 group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17 8l4 4m0 0l-4 4m4-4H3" />
            </svg>
          </a>
        </div>
      </div>
      <div class="reveal-scale grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4">
        {[
          { src: "/images/portrait-coleen-full.png", name: "Coleen", location: "Indian Lake" },
          { src: "/images/portrait-zeb-full.png", name: "Zeb", location: "Mainstop" },
          { src: "/images/portrait-sarah-full.png", name: "Sarah", location: "Keller" },
          { src: "/images/portrait-ryan-full.png", name: "Ryan", location: "Napoleon" },
        ].map((portrait) => (
          <div class="relative aspect-[3/4] rounded-xl overflow-hidden group cursor-pointer">
            <img src={portrait.src} alt={`Mission Portrait - ${portrait.name}`} class="absolute inset-0 w-full h-full object-cover img-hover" />
            <div class="absolute inset-0 bg-gradient-to-t from-charcoal-deep/60 via-charcoal-deep/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
            <div class="absolute bottom-0 left-0 right-0 p-5 translate-y-2 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-500">
              <p class="text-sm font-medium text-white">{portrait.name}</p>
              <p class="text-xs text-white/60">{portrait.location}</p>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- ===== TESTIMONIALS — Large quote (Palantir-style) ===== -->
  <section class="relative py-24 md:py-36 bg-warm-white">
    <div class="max-w-[1400px] mx-auto px-5 md:px-8">
      <TestimonialCard
        variant="large"
        quote="Wildfire Leadership provided my organization with a renewed, laser focus on our mission, vision, and culture and unleashed renewed purpose for my team."
        name="Mike Remer"
        title="Global Client Manager, Hewlett Packard"
      />
    </div>
  </section>

  <!-- ===== WHO WE SERVE — Porsche-style grid ===== -->
  <section class="relative py-24 md:py-32 bg-white">
    <div class="max-w-[1400px] mx-auto px-5 md:px-8">
      <p class="reveal text-[11px] uppercase tracking-[0.3em] text-ember mb-4">Who We Serve</p>
      <h2 class="reveal reveal-d1 font-display text-4xl md:text-5xl text-charcoal leading-[1.05] mb-14">Purpose for <em>everyone.</em></h2>

      <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4">
        {[
          { title: "Individuals", desc: "Find clarity on your personal purpose and direction.", href: "/contact", icon: "M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" },
          { title: "Families", desc: "Build shared vision and stronger bonds together.", href: "/invest-marriage", icon: "M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" },
          { title: "Businesses", desc: "Align your team around a unified mission.", href: "/business", icon: "M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21" },
          { title: "Churches & Schools", desc: "Equip your community to thrive.", href: "/churches", icon: "M4.26 10.147a60.438 60.438 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.636 50.636 0 00-2.658-.813A59.906 59.906 0 0112 3.493a59.903 59.903 0 0110.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.697 50.697 0 0112 13.489a50.702 50.702 0 017.74-3.342" },
        ].map((item, i) => (
          <a href={item.href} class:list={["group reveal block p-8 md:p-10 rounded-2xl border border-sand/80 bg-white hover:border-ember/30 card-glow transition-all duration-500", i > 0 && `reveal-d${i}`]}>
            <div class="w-12 h-12 rounded-xl bg-ember/8 flex items-center justify-center mb-6 group-hover:bg-ember/15 transition-colors duration-400">
              <svg class="w-5 h-5 text-ember" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" d={item.icon} />
              </svg>
            </div>
            <h3 class="font-display text-2xl text-charcoal mb-3 group-hover:text-ember transition-colors duration-400">{item.title}</h3>
            <p class="text-sm text-stone leading-relaxed mb-6">{item.desc}</p>
            <div class="flex items-center gap-2 text-[13px] font-medium text-charcoal/40 group-hover:text-ember transition-colors duration-400">
              Learn more
              <svg class="w-3.5 h-3.5 transition-transform duration-400 group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17 8l4 4m0 0l-4 4m4-4H3" />
              </svg>
            </div>
          </a>
        ))}
      </div>
    </div>
  </section>

  <!-- ===== PHOTO MOSAIC — Showcase real images from events ===== -->
  <section class="relative py-20 md:py-28 bg-warm-white overflow-hidden">
    <div class="max-w-[1400px] mx-auto px-5 md:px-8">
      <div class="text-center mb-14">
        <p class="reveal text-[11px] uppercase tracking-[0.3em] text-ember mb-4">In Action</p>
        <h2 class="reveal reveal-d1 font-display text-4xl md:text-5xl text-charcoal leading-[1.05]">
          Igniting change <em>everywhere.</em>
        </h2>
      </div>
    </div>
    <!-- Edge-to-edge scroll gallery (Porsche-style) -->
    <div class="scroll-gallery px-5 md:px-8 reveal reveal-d2">
      {[
        { src: "/images/education-students.jpg", alt: "Students in session" },
        { src: "/images/business-hero.jpg", alt: "Business workshop" },
        { src: "/images/hero-main.jpg", alt: "Leadership event" },
        { src: "/images/hero-cta.jpg", alt: "Community gathering" },
        { src: "/images/education-higher.jpeg", alt: "Higher education" },
        { src: "/images/business-hero.jpg", alt: "Team building" },
      ].map((img) => (
        <div class="w-[320px] md:w-[420px] aspect-[4/3] rounded-xl overflow-hidden group">
          <img src={img.src} alt={img.alt} class="w-full h-full object-cover img-hover" />
        </div>
      ))}
    </div>
  </section>

  <!-- ===== ABOUT TEASER — Split layout ===== -->
  <section class="relative py-24 md:py-36 bg-cream">
    <div class="max-w-[1400px] mx-auto px-5 md:px-8">
      <div class="grid lg:grid-cols-2 gap-12 lg:gap-20 items-center">
        <div>
          <p class="reveal text-[11px] uppercase tracking-[0.3em] text-ember mb-6">Our Story</p>
          <h2 class="reveal reveal-d1 font-display text-4xl md:text-5xl text-charcoal leading-[1.1]">
            Born from a conviction that <em>every person</em> has a unique purpose.
          </h2>
          <p class="reveal reveal-d2 mt-8 text-base text-stone leading-relaxed max-w-lg">
            Through practical, visual tools and proven frameworks, Wildfire Leadership has helped thousands discover their mission and ignite their potential. What started as one family's journey has grown into a movement across businesses, schools, churches, and communities nationwide.
          </p>
          <div class="reveal reveal-d3 mt-8">
            <a href="/about" class="group inline-flex items-center gap-3 text-sm font-medium tracking-wide text-charcoal link-underline">
              Read our story
              <svg class="w-4 h-4 transition-transform duration-400 group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17 8l4 4m0 0l-4 4m4-4H3" />
              </svg>
            </a>
          </div>
        </div>
        <div class="reveal reveal-d2 relative aspect-[4/5] rounded-2xl overflow-hidden group">
          <img
            src="/images/hero-main.jpg"
            alt="The Wildfire Story"
            class="absolute inset-0 w-full h-full object-cover img-hover"
          />
        </div>
      </div>
    </div>
  </section>

  <!-- ===== SECOND TESTIMONIAL ===== -->
  <section class="relative py-24 md:py-32 bg-white">
    <div class="max-w-[1400px] mx-auto px-5 md:px-8">
      <TestimonialCard
        variant="large"
        quote="Wildfire Leadership guided us in aligning our vision and purpose, uniting our teams, and driving lasting success."
        name="Bryan Keller"
        title="CEO, Keller Logistics"
      />
    </div>
  </section>

  <!-- ===== CTA CLOSER ===== -->
  <CallToAction
    title='Ready to ignite<br/><em class="ember-gradient">your journey?</em>'
    description="Take the first step toward discovering your mission and unlocking your full potential."
    image="/images/hero-cta.jpg"
  />

</BaseLayout>

<script>
  // Parallax
  const isMobile = window.innerWidth < 768;
  const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
  const parallaxImg = document.querySelector('.parallax-img') as HTMLElement;
  if (parallaxImg && !isMobile && !prefersReducedMotion) {
    const section = parallaxImg.closest('section')!;
    window.addEventListener('scroll', () => {
      const rect = section.getBoundingClientRect();
      const visible = rect.top < window.innerHeight && rect.bottom > 0;
      if (visible) {
        const progress = (window.innerHeight - rect.top) / (window.innerHeight + rect.height);
        const offset = (progress - 0.5) * 60;
        parallaxImg.style.transform = `translateY(${offset}px) scale(1.08)`;
      }
    }, { passive: true });
  }
</script>
