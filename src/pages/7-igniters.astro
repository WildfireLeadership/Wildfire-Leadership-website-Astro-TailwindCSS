---
import BaseLayout from '../layouts/BaseLayout.astro';
import PageHero from '../components/PageHero.astro';
import SplitSection from '../components/SplitSection.astro';
import StatCounter from '../components/StatCounter.astro';
import CallToAction from '../components/CallToAction.astro';
---

<BaseLayout title="The 7 Igniters" description="A proven seven-step framework from purpose to potential. Each stage of your journey ignites something within you.">

  <!-- ===== HERO — Dark cinematic ===== -->
  <PageHero
    variant="dark"
    image="/images/lifestyle.jpg"
    title='The 7<br/><em>Igniters</em>'
    subtitle="A proven seven-step framework from purpose to potential."
  />

  <!-- ===== OVERVIEW — White bg, split layout ===== -->
  <SplitSection
    label="The Framework"
    title='From purpose<br/>to <em>potential.</em>'
    description="Each stage of your journey ignites something within you that unleashes your potential. The 7 Igniters curriculum brings action to your Mission Portrait to ensure you live out your potential!"
    image="/images/7-igniters-diagram.png"
    imageAlt="The 7 Igniters framework diagram"
    imagePosition="right"
    bg="white"
    link={{ text: "Get started today", href: "/contact" }}
  />

  <!-- ===== THE 7 IGNITERS LIST — Warm-white bg ===== -->
  <section class="relative py-24 md:py-32 bg-warm-white">
    <div class="max-w-[1400px] mx-auto px-5 md:px-8">
      <div class="max-w-3xl mx-auto">
        <div class="text-center mb-16 md:mb-20">
          <p class="reveal text-xs font-semibold uppercase tracking-[0.3em] text-ember mb-4">The Journey</p>
          <h2 class="reveal reveal-d1 font-display text-3xl md:text-4xl lg:text-5xl text-charcoal leading-[1.1]">
            Seven steps to ignite<br/><em>your potential.</em>
          </h2>
        </div>

        <div class="space-y-0">
          {[
            {
              num: "01",
              title: "Uncover Your Purpose",
              desc: "Customizing your Mission Portrait — discover the unique mission only you were created to fulfill.",
            },
            {
              num: "02",
              title: "Discover Your Ideal",
              desc: "Dreaming for the future — give yourself permission to dream boldly about where you're headed.",
            },
            {
              num: "03",
              title: "Create a Sense of Urgency",
              desc: "Identifying your top 2 needs and decisions — clarify what matters most right now.",
            },
            {
              num: "04",
              title: "Complete Assessments",
              desc: "Discovering who you are and what you bring — take an honest inventory of your strengths, gifts, and growth areas.",
            },
            {
              num: "05",
              title: "Identify Order of Priorities",
              desc: "Supporting desired culture and SMART goals — align your priorities with your purpose.",
            },
            {
              num: "06",
              title: "Build Your Team",
              desc: "Positioning team placement — surround yourself with people who champion your mission.",
            },
            {
              num: "07",
              title: "Unleash Potential",
              desc: "Coaching how and next steps — take decisive action and step into the life you were made for.",
            },
          ].map((igniter, i) => (
            <div class:list={["reveal group flex items-start gap-6 md:gap-8 py-8 border-b border-sand/60 last:border-b-0", `reveal-d${Math.min(i + 1, 5)}`]}>
              <span class="font-display text-4xl md:text-5xl text-ember/30 group-hover:text-ember transition-colors duration-400 flex-shrink-0 w-16 text-right">
                {igniter.num}
              </span>
              <div class="pt-1">
                <h3 class="font-display text-xl md:text-2xl text-charcoal group-hover:text-ember transition-colors duration-400 leading-[1.2]">
                  {igniter.title}
                </h3>
                <p class="mt-2 text-sm md:text-base text-stone leading-relaxed">
                  {igniter.desc}
                </p>
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
  </section>

  <!-- ===== PRICING ===== -->
  <section id="pricing" class="relative py-24 md:py-32 bg-white">
    <div class="max-w-[1400px] mx-auto px-5 md:px-8">
      <div class="text-center mb-16 md:mb-20">
        <p class="reveal text-xs font-semibold uppercase tracking-[0.3em] text-ember mb-4">Choose Your Path</p>
        <h2 class="reveal reveal-d1 font-display text-3xl md:text-4xl lg:text-5xl text-charcoal leading-[1.1]">
          Two ways to ignite<br/><em>your potential.</em>
        </h2>
      </div>

      <div class="grid md:grid-cols-2 gap-6 max-w-4xl mx-auto">
        <!-- Self-Guided -->
        <div class="reveal bg-warm-white rounded-2xl border border-sand/50 p-10 flex flex-col relative overflow-hidden">
          <div class="absolute top-0 right-0 bg-ember text-white text-[11px] uppercase tracking-[0.2em] font-medium px-4 py-1.5 rounded-bl-xl">Most Popular</div>
          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-ember mb-4">Self-Guided</p>
          <div class="flex items-baseline gap-3 mb-2">
            <span class="font-display text-5xl text-charcoal">$35</span>
          </div>
          <p class="text-sm text-stone mb-8">One-time purchase</p>

          <ul class="space-y-4 mb-8 flex-1">
            {[
              "Electronic PDF workbook",
              "Step-by-step 7 Igniters curriculum",
              "Goal-setting and action planning tools",
            ].map((item) => (
              <li class="flex items-start gap-3 text-sm text-charcoal/80 leading-relaxed">
                <svg class="w-5 h-5 text-ember flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
                {item}
              </li>
            ))}
          </ul>

          <div class="mb-4" data-pricing-selector>
            <p class="text-xs font-semibold uppercase tracking-[0.2em] text-charcoal/50 mb-3">This is for my...</p>
            <div class="flex flex-wrap gap-2">
              {["Student", "Individual", "Marriage", "Family", "Organization"].map((option) => (
                <button type="button" class="pricing-pill px-3 py-1.5 rounded-full text-xs font-medium border border-sand/80 text-stone hover:border-ember hover:text-ember transition-all duration-300 cursor-pointer" data-value={option.toLowerCase()}>
                  {option}
                </button>
              ))}
            </div>
          </div>

          <div class="mb-6 flex items-center gap-4" data-qty-selector>
            <p class="text-xs font-semibold uppercase tracking-[0.2em] text-charcoal/50">Qty</p>
            <div class="inline-flex items-center border border-sand/80 rounded-full">
              <button type="button" data-qty-minus class="w-8 h-8 flex items-center justify-center text-stone hover:text-ember transition-colors duration-300 cursor-pointer">
                <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-width="2" d="M5 12h14"/></svg>
              </button>
              <span data-qty-value class="w-8 text-center text-sm font-medium text-charcoal">1</span>
              <button type="button" data-qty-plus class="w-8 h-8 flex items-center justify-center text-stone hover:text-ember transition-colors duration-300 cursor-pointer">
                <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-width="2" d="M12 5v14M5 12h14"/></svg>
              </button>
            </div>
          </div>

          <a href="/contact?interest=7-igniters&type=self-guided" data-cta-link class="group inline-flex items-center justify-center gap-3 w-full px-8 py-4 rounded-full text-sm font-medium tracking-wide text-charcoal border border-charcoal/20 hover:border-ember hover:text-ember transition-all duration-400 hover:shadow-lg hover:shadow-charcoal/5">
            Get Started
            <svg class="w-4 h-4 transition-transform duration-400 group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17 8l4 4m0 0l-4 4m4-4H3" />
            </svg>
          </a>
        </div>

        <!-- Facilitated -->
        <div class="reveal reveal-d1 bg-warm-white rounded-2xl border border-sand/50 p-10 flex flex-col">
          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-ember mb-4">Facilitated</p>
          <div class="flex items-baseline gap-3 mb-2">
            <span class="font-display text-5xl text-charcoal">$299</span>
          </div>
          <p class="text-sm text-stone mb-8">Per session</p>

          <ul class="space-y-4 mb-8 flex-1">
            {[
              "60-minute virtual session with Certified Facilitator",
              "All materials included",
              "Electronic PDF workbook",
              "Personalized coaching through the 7 Igniters",
            ].map((item) => (
              <li class="flex items-start gap-3 text-sm text-charcoal/80 leading-relaxed">
                <svg class="w-5 h-5 text-ember flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
                {item}
              </li>
            ))}
          </ul>

          <div class="mb-4" data-pricing-selector>
            <p class="text-xs font-semibold uppercase tracking-[0.2em] text-charcoal/50 mb-3">This is for my...</p>
            <div class="flex flex-wrap gap-2">
              {["Student", "Individual", "Marriage", "Family", "Organization"].map((option) => (
                <button type="button" class="pricing-pill px-3 py-1.5 rounded-full text-xs font-medium border border-sand/80 text-stone hover:border-ember hover:text-ember transition-all duration-300 cursor-pointer" data-value={option.toLowerCase()}>
                  {option}
                </button>
              ))}
            </div>
          </div>

          <div class="mb-6 flex items-center gap-4" data-qty-selector>
            <p class="text-xs font-semibold uppercase tracking-[0.2em] text-charcoal/50">Qty</p>
            <div class="inline-flex items-center border border-sand/80 rounded-full">
              <button type="button" data-qty-minus class="w-8 h-8 flex items-center justify-center text-stone hover:text-ember transition-colors duration-300 cursor-pointer">
                <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-width="2" d="M5 12h14"/></svg>
              </button>
              <span data-qty-value class="w-8 text-center text-sm font-medium text-charcoal">1</span>
              <button type="button" data-qty-plus class="w-8 h-8 flex items-center justify-center text-stone hover:text-ember transition-colors duration-300 cursor-pointer">
                <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-width="2" d="M12 5v14M5 12h14"/></svg>
              </button>
            </div>
          </div>

          <a href="/contact?interest=7-igniters&type=facilitated" data-cta-link class="group inline-flex items-center justify-center gap-3 w-full px-8 py-4 rounded-full text-sm font-medium tracking-wide text-white bg-charcoal hover:bg-ember transition-all duration-400 hover:shadow-lg hover:shadow-ember/20">
            Book Now
            <svg class="w-4 h-4 transition-transform duration-400 group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17 8l4 4m0 0l-4 4m4-4H3" />
            </svg>
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== STATS ===== -->
  <StatCounter
    bg="cream"
    stats={[
      { value: 40000, suffix: "+", label: "Mission Portraits\ncompleted" },
      { value: 87, suffix: "%", label: "Report greater clarity\nand confidence" },
      { value: 92, suffix: "%", label: "Developed a personalized\nroadmap for growth" },
    ]}
  />

  <!-- ===== CTA CLOSER ===== -->
  <CallToAction
    title='Ready to ignite<br/><em class="ember-gradient">your potential?</em>'
    description="Take the first step on a proven path from purpose to potential."
  />

</BaseLayout>

<script>
  document.querySelectorAll('[data-pricing-selector]').forEach((selector) => {
    const card = selector.closest('.flex.flex-col');
    const link = card?.querySelector('[data-cta-link]');
    const pills = selector.querySelectorAll('.pricing-pill');

    pills.forEach((pill) => {
      pill.addEventListener('click', () => {
        pills.forEach((p) => {
          p.classList.remove('bg-ember', 'text-white', 'border-ember');
          p.classList.add('border-sand/80', 'text-stone');
        });
        pill.classList.add('bg-ember', 'text-white', 'border-ember');
        pill.classList.remove('border-sand/80', 'text-stone');

        if (link) {
          const url = new URL(link.href);
          url.searchParams.set('for', pill.dataset.value);
          link.href = url.toString();
        }
      });
    });
  });

  document.querySelectorAll('[data-qty-selector]').forEach((selector) => {
    const card = selector.closest('.flex.flex-col');
    const link = card?.querySelector('[data-cta-link]');
    const display = selector.querySelector('[data-qty-value]');
    const minus = selector.querySelector('[data-qty-minus]');
    const plus = selector.querySelector('[data-qty-plus]');
    let qty = 1;

    function update() {
      display.textContent = qty;
      if (link) {
        const url = new URL(link.href);
        if (qty > 1) {
          url.searchParams.set('qty', qty);
        } else {
          url.searchParams.delete('qty');
        }
        link.href = url.toString();
      }
    }

    minus?.addEventListener('click', () => { if (qty > 1) { qty--; update(); } });
    plus?.addEventListener('click', () => { if (qty < 99) { qty++; update(); } });
  });
</script>
